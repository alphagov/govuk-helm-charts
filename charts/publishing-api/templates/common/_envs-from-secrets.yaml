# NOTE: this file is pulled into templates which uses envs populated from secrets.
{{- define "envs-from-secrets" }}
- name: CONTENT_STORE_BEARER_TOKEN
  valueFrom:
    secretKeyRef:
      name: {{ $.Release.Name }}-content-store-bearer-token
      key: secret
- name: DRAFT_CONTENT_STORE_BEARER_TOKEN
  valueFrom:
    secretKeyRef:
      name: {{ $.Release.Name }}-draft-content-store-bearer-token
      key: secret
- name: DATABASE_URL
  valueFrom:
    secretKeyRef:
      name: {{ $.Release.Name }}-database
      key: url
- name: EVENT_LOG_AWS_SECRET_KEY
  valueFrom:
    secretKeyRef:
      name: {{ $.Release.Name }}-event-log-aws-secret-key
      key: secret
- name: GDS_SSO_OAUTH_ID
  valueFrom:
    secretKeyRef:
      name: {{ $.Release.Name }}-gds-sso-oauth
      key: id
- name: GDS_SSO_OAUTH_SECRET
  valueFrom:
    secretKeyRef:
      name: {{ $.Release.Name }}-gds-sso-oauth
      key: secret
- name: RABBITMQ_USER
  valueFrom:
    secretKeyRef:
      name: {{ $.Release.Name }}-rabbitmq
      key: username
- name: RABBITMQ_PASSWORD
  valueFrom:
    secretKeyRef:
      name: {{ $.Release.Name }}-rabbitmq
      key: password
- name: ROUTER_API_BEARER_TOKEN
  valueFrom:
    secretKeyRef:
      name: {{ $.Release.Name }}-router-api-bearer-token
      key: secret
- name: SECRET_KEY_BASE
  valueFrom:
    secretKeyRef:
      name: {{ $.Release.Name }}-secret-key-base
      key: secret
{{- end }}
